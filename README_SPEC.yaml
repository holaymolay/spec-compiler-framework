project_name: "spec-compiler"
one_sentence_value_prop: "Deterministic CLI pipeline that converts raw human intent into governed specification artifacts."
audience:
  include:
    - "Repository maintainers who need enforceable, audit-friendly specs from human intent."
    - "Governance and platform engineers standardizing spec workflows for downstream automation."
    - "Operators running deterministic pipelines that must refuse ambiguous inputs."
  exclude:
    - "Teams seeking automatic requirement generation or creative drafting."
    - "Workflows that allow LLMs or tools to fill in missing decisions implicitly."
problem_statement: "Specs generated with ad hoc prompts or LLM retries drift, hide assumptions, and cannot be audited or trusted for downstream automation."
solution_summary: "A compiler-style CLI with hard stage gates (intent capture, clarification, normalization, validation, prompt synthesis) that refuses to proceed on missing decisions, enforces governance rules mechanically, and emits Codex-ready prompts only after deterministic checks pass. Entry point: README.md (you are here); drill-down runbook: docs/usage.md."
outcomes:
  - "Capture raw human intent without normalization or enrichment."
  - "Surface missing decisions as deterministic blocking questions until resolved."
  - "Normalize clarified intent into governed specs with traceable validation and security defaults."
  - "Validate specs against non-negotiable rules and synthesize Codex prompts only on passing validation."
  - "Validate renderer outputs against the Renderer Contract for deterministic UI artifacts."
  - "Enforce taste rules from the visual constitution and design intent to block regressions."
  - "Document how to operate the pipeline (local or CI) without LLMs or implicit assumptions."
  - "Guide users from README.md into detailed docs/usage.md for step-by-step execution."
quick_start:
  - "npm install"
  - "npm run build"
  - "node dist/cli.js intent --input intent/intent.raw.yaml"
  - "node dist/cli.js clarify"
  - "node dist/cli.js normalize --spec-id <id> && node dist/cli.js validate --spec-id <id>"
  - "node dist/cli.js renderer-validate && node dist/cli.js taste && node dist/cli.js synthesize --spec-id <id>"
repo_map:
  - path: "README.md"
    description: "Start here; links into docs/usage.md for full pipeline walkthrough."
  - path: "README_SPEC.yaml"
    description: "Authoritative input for README generation via readme-spec-engine."
  - path: "src/"
    description: "TypeScript sources for the compiler stages and CLI entrypoint."
  - path: "config/framework.yaml"
    description: "Framework concepts, synchronizations, and security defaults."
  - path: "config/renderer-registry.json"
    description: "Renderer registry declaring approved renderers and targets."
  - path: "config/visual-constitution.json"
    description: "Visual constitution referenced by taste enforcement rules."
  - path: "config/design-intent.json"
    description: "Immutable design intent constraints for taste enforcement."
  - path: "contracts/"
    description: "Machine-readable schemas for renderer contracts and registries."
  - path: "scripts/"
    description: "Run-record helpers for deterministic audit logs."
  - path: "runs/"
    description: "Run receipts captured per task."
  - path: "docs/context/"
    description: "Agent context ledgers per governance workflow (see also docs/usage.md for operational steps)."
  - path: "docs/renderer-contract.md"
    description: "Renderer Contract definition and compliance guidance."
  - path: "docs/taste-rules.md"
    description: "Taste enforcement rules, inputs, and extension guidance."
  - path: "rules/"
    description: "Versioned taste ruleset metadata."
  - path: "todo.md"
    description: "AI-managed task list; populate via todo-inbox.md."
  - path: "backlog.md"
    description: "AI-managed backlog of future work."
  - path: "completed.md"
    description: "AI-managed log of completed tasks."
  - path: "handover.md"
    description: "Current focus, recent progress, and next steps."
  - path: "CHANGELOG.md"
    description: "Changelog entries per completed task."
  - path: "tsconfig.json"
    description: "TypeScript compiler settings for the CLI."
  - path: "package.json"
    description: "Project metadata, scripts, and runtime dependencies."
  - path: "spec/"
    description: "README generation templates (sections, rules, tone) for readme-spec-engine."
  - path: "docs/usage.md"
    description: "Step-by-step instructions for running the compiler pipeline and interpreting artifacts."
non_goals:
  - "Generate application code or business logic."
  - "Invoke LLMs or infer requirements automatically."
  - "Proceed past stage gates when clarification is incomplete."
  - "Bypass governance validation or acceptance criteria mapping."
  - "Serve as a general-purpose documentation generator beyond this compiler."
constraints:
  max_length: 5200
  banned_terms:
    - "magic"
    - "automagic"
  tone_profile: "neutral"
